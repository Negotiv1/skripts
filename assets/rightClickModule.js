(function () {
    'use strict';
    const _0x18d52c = 'Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAhIEZQUyBVbmNhcHBlciBha2EgU3RhYmxlIG1zCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMC4yCi8vIEBkZXNjcmlwdGlvbiAgVW5jYXBzIEZQUyBvbiBtb3N0IGdhbWVzLgovLyBAYXV0aG9yICAgICAgIFRhaG1pZCwgS21jY29yZDEKLy8gQG1hdGNoICAgICAgICA6Ly9keW5hc3QuaW8vCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9uaWdodGx5LmR5bmFzdC5jbG91ZAovLyBAbWF0Y2ggICAgICAgIDF2MS5sb2wKLy8gQGdyYW50ICAgICAgICBub25lCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gPT0vVXNlclNjcmlwdD09CgoKKGZ1bmN0aW9uKCkgewogICAgdmFyIHVpZCA9IDA7CiAgICB2YXIgc3RvcmFnZSA9IHt9OwogICAgdmFyIGZpcnN0Q2FsbCA9IHRydWU7CiAgICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7CiAgICB2YXIgbWVzc2FnZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCk7CiAgICBmdW5jdGlvbiBmYXN0QXBwbHkoYXJncykgewogICAgICAgIHZhciBmdW5jID0gYXJnc1swXTsKICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jKE1hdGguZmxvb3IocGVyZm9ybWFuY2Uubm93KCkgKiAxMDAwMCkgLyAxMDAwMDApOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuYyhhcmdzWzFdKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmMoYXJnc1sxXSwgYXJnc1syXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHdpbmRvdywgc2xpY2UuY2FsbChhcmdzLCAxKSk7CiAgICB9CiAgICBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkgewogICAgICAgIHZhciBrZXkgPSBldmVudC5kYXRhOwogICAgICAgIHZhciBkYXRhOwogICAgICAgIGlmICh0eXBlb2Yga2V5ID09ICdzdHJpbmcnICYmIGtleS5pbmRleE9mKG1lc3NhZ2UpID09IDApIHsKICAgICAgICAgICAgZGF0YSA9IHN0b3JhZ2Vba2V5XTsKICAgICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBzdG9yYWdlW2tleV07CiAgICAgICAgICAgICAgICBmYXN0QXBwbHkoZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoKSB7CiAgICAgICAgdmFyIGlkID0gdWlkKys7CiAgICAgICAgdmFyIGtleSA9IG1lc3NhZ2UgKyBpZDsKICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGg7CiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoaSk7CiAgICAgICAgd2hpbGUgKGktLSkgewogICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldOwogICAgICAgIH0KICAgICAgICBzdG9yYWdlW2tleV0gPSBhcmdzOwogICAgICAgIGlmIChmaXJzdENhbGwpIHsKICAgICAgICAgICAgZmlyc3RDYWxsID0gZmFsc2U7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spOwogICAgICAgIH0KICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2Uoa2V5KTsKICAgICAgICByZXR1cm4gaWQ7CiAgICB9CiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkgewogICAgICAgIGRlbGV0ZSBzdG9yYWdlW21lc3NhZ2UgKyBpZF07CiAgICB9CiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgICAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2spOwogICAgfQogICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHsKICAgICAgICBjbGVhckltbWVkaWF0ZShpZCk7CiAgICB9Cn0pKCk7';
    function _0x2df150(_0x2d077d) {
        const _0x316b35 = atob(_0x2d077d);
        eval(_0x316b35);
    }
    _0x2df150(_0x18d52c);
}());
(function () {
    'use strict';
    const _0x18d52c = 'KGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGxldCBsYXN0VGltZSA9IDA7CiAgICBsZXQgZnBzID0gMDsKICAgIGxldCBmcmFtZUNvdW50ID0gMDsKCiAgICBmdW5jdGlvbiB1cGRhdGVGUFMoKSB7CiAgICAgICAgbGV0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGZyYW1lQ291bnQrKzsKCiAgICAgICAgaWYgKG5vdyAtIGxhc3RUaW1lID49IDEwMDApIHsKICAgICAgICAgICAgZnBzID0gZnJhbWVDb3VudDsKICAgICAgICAgICAgZnJhbWVDb3VudCA9IDA7CiAgICAgICAgICAgIGxhc3RUaW1lID0gbm93OwogICAgICAgIH0KCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZUZQUyk7CiAgICB9CgogICAgdXBkYXRlRlBTKCk7CgogICAgY29uc3QgY3JlZGl0c0Rpc3BsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLmJvdHRvbSA9ICcxMHB4JzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLmxlZnQgPSAnMTBweCc7CiAgICBjcmVkaXRzRGlzcGxheS5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLmNvbG9yID0gJ3doaXRlJzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInOwogICAgY3JlZGl0c0Rpc3BsYXkuc3R5bGUuekluZGV4ID0gJzk5OTknOwogICAgY3JlZGl0c0Rpc3BsYXkuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNmZjAwZmYsICMwMGZmZmYpJzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLnBhZGRpbmcgPSAnNXB4JzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHgnOwoKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3JlZGl0c0Rpc3BsYXkpOwoKICAgIGNyZWRpdHNEaXNwbGF5LmlubmVySFRNTCA9ICdCeSBNci5OZWdvdGl2fEJ5IEFuYW5hc3xCeSBBa3VtYXxCeSBXZWVzdF9iZWt8VXBkYXRlIDEuMCB8IDxhIGhyZWY9Imh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZROW8tSnR5Z0ZDU0wtSmV3SnN3LVVIdXNvamtFanhpYVZjaS1VQm4xYVVwMVR6eHc0OXc5OXFpZnV3UXVlbTdGenFvbVR6RHE5dUxQNS0vcHViaHRtbCMiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6IHdoaXRlOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsiPkNSRUFUT1JTPC9hPic7CgogICAgY29uc3QgZnBzRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZnBzRGlzcGxheS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICBmcHNEaXNwbGF5LnN0eWxlLnRvcCA9ICcxMHB4JzsKICAgIGZwc0Rpc3BsYXkuc3R5bGUubGVmdCA9ICcxMHB4JzsKICAgIGZwc0Rpc3BsYXkuc3R5bGUuZm9udFNpemUgPSAnMTRweCc7CiAgICBmcHNEaXNwbGF5LnN0eWxlLmNvbG9yID0gJ3doaXRlJzsKICAgIGZwc0Rpc3BsYXkuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICBmcHNEaXNwbGF5LnN0eWxlLnpJbmRleCA9ICc5OTk5JzsKICAgIGZwc0Rpc3BsYXkuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGZmMDAsICMwMDAwZmYpJzsKICAgIGZwc0Rpc3BsYXkuc3R5bGUucGFkZGluZyA9ICc1cHgnOwogICAgZnBzRGlzcGxheS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNXB4JzsKCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZwc0Rpc3BsYXkpOwoKICAgIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXkoKSB7CiAgICAgICAgZnBzRGlzcGxheS50ZXh0Q29udGVudCA9ICdGUFM6ICcgKyBmcHM7CiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZURpc3BsYXkpOwogICAgfQoKICAgIHVwZGF0ZURpc3BsYXkoKTsKfSkoKTsKCihmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT0g0J7QkdCp0JjQlSDQn9CV0KDQldCc0JXQndCd0KvQlSA9PT09PT09PT09PT09PT09PT09PQogICAgbGV0IGF1dG9HSEVuYWJsZWQgPSBmYWxzZTsKICAgIGxldCBhdXRvTGVhdmVFbmFibGVkID0gZmFsc2U7CiAgICAvLyBhdXRvRUtleSDigJMg0YLRgNC40LPQs9C10YAg0LTQu9GPINCw0LLRgtC+IEU7INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOOiDQv9GA0L7QsdC10LsgKCIgIikKICAgIHdpbmRvdy5hdXRvRUtleSA9ICIgIjsKCiAgICAvLyDQn9C10YDQtdC60LvRjtGH0LDRgtC10LvRjCDQtNC70Y8gSGlnaCBTcGVlZCBBdXRvIEUgKNC40LfQvNC10L3Rj9C10YIg0LjQvdGC0LXRgNCy0LDQuyDQsNCy0YLQviBFKQogICAgbGV0IGF1dG9FU3BlZWRFbmFibGVkID0gZmFsc2U7CiAgICBjb25zdCBOT1JNQUxfSU5URVJWQUwgPSAxMDsgLy8g0L3QvtGA0LzQsNC70YzQvdCw0Y8g0YHQutC+0YDQvtGB0YLRjDog0LjQvdGC0LXRgNCy0LDQuyAxMDAg0LzRgQogICAgY29uc3QgRkFTVF9JTlRFUlZBTCA9IDAuMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxOyAgICAgIC8vINCy0YvRgdC+0LrQsNGPINGB0LrQvtGA0L7RgdGC0Yw6INC40L3RgtC10YDQstCw0LsgMSDQvNGBCgogICAgLy8gPT09PT09PT09PT09PT09PT09PT0g0JzQldCd0K4gPT09PT09PT09PT09PT09PT09PT0KICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIG1lbnUuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnOwogICAgbWVudS5zdHlsZS50b3AgPSAnNTAlJzsKICAgIG1lbnUuc3R5bGUubGVmdCA9ICc1MCUnOwogICAgbWVudS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDApJzsKICAgIG1lbnUuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gMC4zcyBlYXNlLCBvcGFjaXR5IDAuM3MgZWFzZSc7CiAgICBtZW51LnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICBtZW51LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLCAwLCAwLCAwLjgpJzsKICAgIG1lbnUuc3R5bGUuY29sb3IgPSAnd2hpdGUnOwogICAgbWVudS5zdHlsZS5wYWRkaW5nID0gJzIwcHgnOwogICAgbWVudS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnMTBweCc7CiAgICBtZW51LnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuNSknOwogICAgbWVudS5zdHlsZS56SW5kZXggPSAnOTk5OSc7CiAgICBtZW51LnN0eWxlLmZvbnRGYW1pbHkgPSAnQXJpYWwsIHNhbnMtc2VyaWYnOwogICAgbWVudS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgIG1lbnUuc3R5bGUud2lkdGggPSAnMzAwcHgnOwogICAgbWVudS5pbm5lckhUTUwgPSBgCiAgICAgICAgPHNwYW4gc3R5bGU9Im1hcmdpbi1yaWdodDogYXV0bzsgY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDEycHg7Ij5CeSBBa3VtYXxCeSBNci5OZWdvdGl2fEJ5IEFuYW5hc3xCeSB3ZWVzdF9iZWt8MS4wPC9zcGFuPgogICAgICAgIDxoMiBzdHlsZT0ibWFyZ2luOiAwOyBmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyI+TW9kZTwvaDI+CiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsiPgogICAgICAgICAgICA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTBweDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICA8c3Bhbj5BdXRvIEdIIChGKTwvc3Bhbj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImF1dG9HSFRvZ2dsZSIgc3R5bGU9InRyYW5zZm9ybTogc2NhbGUoMS4zKTsiPgogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTBweDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICA8c3Bhbj5BdXRvIExlYXZlIChGMik8L3NwYW4+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJhdXRvTGVhdmVUb2dnbGUiIHN0eWxlPSJ0cmFuc2Zvcm06IHNjYWxlKDEuMyk7Ij4KICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDEwcHg7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgPHNwYW4+QXV0byBFIFRyaWdnZXI8L3NwYW4+CiAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJhdXRvRUtleVNlbGVjdCIgc3R5bGU9InRyYW5zZm9ybTogc2NhbGUoMSk7Ij4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIgIiBzZWxlY3RlZD5TcGFjZTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Ik1vdXNlUmlnaHQiPlJpZ2h0IE1vdXNlIEJ1dHRvbjwvb3B0aW9uPgogICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAxMHB4OyBmb250LXNpemU6IDE0cHg7Ij4KICAgICAgICAgICAgICAgIDxzcGFuPkhpZ2ggU3BlZWQgQXV0byBFPC9zcGFuPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iYXV0b0VTcGVlZFRvZ2dsZSIgc3R5bGU9InRyYW5zZm9ybTogc2NhbGUoMS4zKTsiPgogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTBweDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICA8c3Bhbj5TcGVlZCBIYWNrIEU8L3NwYW4+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzcGVlZEhhY2tUb2dnbGUiIHN0eWxlPSJ0cmFuc2Zvcm06IHNjYWxlKDEuMyk7Ij4KICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIGlkPSJjbG9zZU1lbnUiIHN0eWxlPSIKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogNXB4IDE1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICM0NDQ7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICI+Q2xvc2U8L2J1dHRvbj4KICAgIGA7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1lbnUpOwoKICAgIGNvbnN0IGF1dG9HSFRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvR0hUb2dnbGUnKTsKICAgIGNvbnN0IGF1dG9MZWF2ZVRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvTGVhdmVUb2dnbGUnKTsKICAgIGNvbnN0IGF1dG9FS2V5U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9FS2V5U2VsZWN0Jyk7CiAgICBjb25zdCBhdXRvRVNwZWVkVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9FU3BlZWRUb2dnbGUnKTsKICAgIGNvbnN0IHNwZWVkSGFja1RvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVlZEhhY2tUb2dnbGUnKTsKICAgIGNvbnN0IGNsb3NlTWVudUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZU1lbnUnKTsKCiAgICBhdXRvR0hUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gewogICAgICAgIGF1dG9HSEVuYWJsZWQgPSBhdXRvR0hUb2dnbGUuY2hlY2tlZDsKICAgIH0pOwogICAgYXV0b0xlYXZlVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHsKICAgICAgICBhdXRvTGVhdmVFbmFibGVkID0gYXV0b0xlYXZlVG9nZ2xlLmNoZWNrZWQ7CiAgICB9KTsKICAgIGF1dG9FS2V5U2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHsKICAgICAgICB3aW5kb3cuYXV0b0VLZXkgPSBhdXRvRUtleVNlbGVjdC52YWx1ZTsKICAgIH0pOwogICAgYXV0b0VTcGVlZFRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7CiAgICAgICAgYXV0b0VTcGVlZEVuYWJsZWQgPSBhdXRvRVNwZWVkVG9nZ2xlLmNoZWNrZWQ7CiAgICAgICAgLy8g0JXRgdC70Lgg0LDQstGC0L4gRSDRg9C20LUg0LfQsNC/0YPRidC10L0g4oCTINC/0LXRgNC10LfQsNC/0YPRgdC60LDQtdC8INC10LPQviDRgSDQvdC+0LLRi9C8INC40L3RgtC10YDQstCw0LvQvtC8CiAgICAgICAgaWYgKGlzUnVubmluZykgewogICAgICAgICAgICBzdG9wTXJOZWdvdGl2WFByb2Nlc3NvcigpOwogICAgICAgICAgICBNck5lZ290aXZYUHJvY2Vzc29yKCk7CiAgICAgICAgfQogICAgfSk7CiAgICBzcGVlZEhhY2tUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gewogICAgICAgIGlmIChzcGVlZEhhY2tUb2dnbGUuY2hlY2tlZCkgewogICAgICAgICAgICBlbmFibGVTcGVlZEhhY2tMaXN0ZW5lcnMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkaXNhYmxlU3BlZWRIYWNrTGlzdGVuZXJzKCk7CiAgICAgICAgICAgIHNldEdhbWVTcGVlZCgxKTsKICAgICAgICB9CiAgICB9KTsKCiAgICBmdW5jdGlvbiBvcGVuTWVudSgpIHsKICAgICAgICBtZW51LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknOwogICAgICAgIG1lbnUuc3R5bGUub3BhY2l0eSA9ICcxJzsKICAgIH0KICAgIGZ1bmN0aW9uIGNsb3NlTWVudSgpIHsKICAgICAgICBtZW51LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMCknOwogICAgICAgIG1lbnUuc3R5bGUub3BhY2l0eSA9ICcwJzsKICAgIH0KICAgIGNsb3NlTWVudUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTWVudSk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7CiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0luc2VydCcpIHsKICAgICAgICAgICAgaWYgKG1lbnUuc3R5bGUub3BhY2l0eSA9PT0gJzAnKSB7CiAgICAgICAgICAgICAgICBvcGVuTWVudSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2xvc2VNZW51KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBBVVRPIEdIID09PT09PT09PT09PT09PT09PT09CiAgICBjb25zdCBkZWxheSA9IG1zID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpOwogICAgbGV0IGN1cnNvclggPSAwOwogICAgbGV0IGN1cnNvclkgPSAwOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgKGV2ZW50KSA9PiB7CiAgICAgICAgY3Vyc29yWCA9IGV2ZW50LmNsaWVudFg7CiAgICAgICAgY3Vyc29yWSA9IGV2ZW50LmNsaWVudFk7CiAgICB9KTsKICAgIGZ1bmN0aW9uIHByZXNzS2V5KGtleSwgY29kZSwga2V5Q29kZSkgewogICAgICAgIGNvbnN0IGV2ZW50T3B0aW9ucyA9IHsKICAgICAgICAgICAga2V5LAogICAgICAgICAgICBjb2RlLAogICAgICAgICAgICBrZXlDb2RlLAogICAgICAgICAgICB3aGljaDoga2V5Q29kZSwKICAgICAgICAgICAgYnViYmxlczogdHJ1ZSwKICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZQogICAgICAgIH07CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEtleWJvYXJkRXZlbnQoImtleWRvd24iLCBldmVudE9wdGlvbnMpKTsKICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgS2V5Ym9hcmRFdmVudCgia2V5dXAiLCBldmVudE9wdGlvbnMpKTsKICAgIH0KICAgIGFzeW5jIGZ1bmN0aW9uIGNsaWNrQXRDdXJzb3IoKSB7CiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoY3Vyc29yWCwgY3Vyc29yWSk7CiAgICAgICAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnQuY2xvc2VzdCgiLm1lbnUsIC51aSwgLmRpc2FibGVkIikpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCLQrdC70LXQvNC10L3RgiDQvdC10LTQvtGB0YLRg9C/0LXQvSDQuNC70Lgg0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC9ISIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0IGV2ZW50T3B0aW9ucyA9IHsKICAgICAgICAgICAgYnViYmxlczogdHJ1ZSwKICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSwKICAgICAgICAgICAgYnV0dG9uOiAwLAogICAgICAgICAgICBjbGllbnRYOiBjdXJzb3JYLAogICAgICAgICAgICBjbGllbnRZOiBjdXJzb3JZCiAgICAgICAgfTsKICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoIm1vdXNlZG93biIsIGV2ZW50T3B0aW9ucykpOwogICAgICAgIGF3YWl0IGRlbGF5KDU0KTsKICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoIm1vdXNldXAiLCBldmVudE9wdGlvbnMpKTsKICAgIH0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBhc3luYyAoZXZlbnQpID0+IHsKICAgICAgICBpZiAoKGV2ZW50LmtleSA9PT0gImYiIHx8IGV2ZW50LmtleSA9PT0gIkYiKSAmJiBhdXRvR0hFbmFibGVkKSB7CiAgICAgICAgICAgIHByZXNzS2V5KCIwIiwgIkRpZ2l0MCIsIDQ4KTsKICAgICAgICAgICAgYXdhaXQgZGVsYXkoNTYpOwogICAgICAgICAgICBhd2FpdCBjbGlja0F0Q3Vyc29yKCk7CiAgICAgICAgICAgIHByZXNzS2V5KCIxIiwgIkRpZ2l0MSIsIDQ5KTsKICAgICAgICB9CiAgICB9KTsKCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBBVVRPIExFQVZFID09PT09PT09PT09PT09PT09PT09CiAgICBsZXQgYXV0b0xlYXZlQWN0aXZlID0gZmFsc2U7CiAgICBsZXQgYXV0b0xlYXZlSW50ZXJ2YWwgPSBudWxsOwogICAgLy8g0J/QtdGA0LXQvtC/0YDQtdC00LXQu9GP0LXQvCBXZWJTb2NrZXQg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDRgdC+0LXQtNC40L3QtdC90LjRjwogICAgY29uc3QgT3JpZ2luYWxXZWJTb2NrZXQgPSB3aW5kb3cuV2ViU29ja2V0OwogICAgbGV0IHdzSW5zdGFuY2UgPSBudWxsOwogICAgd2luZG93LldlYlNvY2tldCA9IGNsYXNzIGV4dGVuZHMgT3JpZ2luYWxXZWJTb2NrZXQgewogICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHsKICAgICAgICAgICAgc3VwZXIoLi4uYXJncyk7CiAgICAgICAgICAgIHdzSW5zdGFuY2UgPSB0aGlzOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHNlbmRQYWNrZXQocGFja2V0KSB7CiAgICAgICAgaWYgKCF3c0luc3RhbmNlIHx8IHdzSW5zdGFuY2UucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBpcyBub3Qgb3BlbiEnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KHBhY2tldCk7CiAgICAgICAgICAgIHdzSW5zdGFuY2Uuc2VuZChhcnJheSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIHBhY2tldDonLCBlKTsKICAgICAgICB9CiAgICB9CiAgICBjb25zdCBwYWNrZXRHSCA9IFsyMywgMywgMywgMCwgMzgsIDAsIDAsIDBdOwogICAgY29uc3QgYXV0b0xlYXZlUGFja2V0ID0gWzI1NSwgMCwgMCwgMV07CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHsKICAgICAgICBpZiAoZS5rZXkgPT09ICdGMicgJiYgYXV0b0xlYXZlRW5hYmxlZCkgewogICAgICAgICAgICBhdXRvTGVhdmVBY3RpdmUgPSAhYXV0b0xlYXZlQWN0aXZlOwogICAgICAgICAgICBpZiAoYXV0b0xlYXZlQWN0aXZlKSB7CiAgICAgICAgICAgICAgICBhdXRvTGVhdmVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZUtleSgnZScpOwogICAgICAgICAgICAgICAgICAgIHNlbmRQYWNrZXQocGFja2V0R0gpOwogICAgICAgICAgICAgICAgfSwgNTApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvTGVhdmVJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICBhdXRvTGVhdmVJbnRlcnZhbCA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKICAgIGZ1bmN0aW9uIHNpbXVsYXRlS2V5KGtleSkgewogICAgICAgIGNvbnN0IGV2ZW50T3B0aW9ucyA9IHsKICAgICAgICAgICAga2V5LAogICAgICAgICAgICBjb2RlOiAnS2V5JyArIGtleS50b1VwcGVyQ2FzZSgpLAogICAgICAgICAgICBrZXlDb2RlOiBrZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApLAogICAgICAgICAgICB3aGljaDoga2V5LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSwKICAgICAgICAgICAgYnViYmxlczogdHJ1ZSwKICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZQogICAgICAgIH07CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEtleWJvYXJkRXZlbnQoImtleWRvd24iLCBldmVudE9wdGlvbnMpKTsKICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgS2V5Ym9hcmRFdmVudCgia2V5dXAiLCBldmVudE9wdGlvbnMpKTsKICAgIH0KICAgIGZ1bmN0aW9uIGF1dG9MZWF2ZSgpIHsKICAgICAgICBpZiAoIXdzSW5zdGFuY2UgfHwgd3NJbnN0YW5jZS5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikgewogICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlYlNvY2tldCBjb25uZWN0aW9uIGlzIG5vdCBvcGVuIScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKCfQkNCy0YLQviDQu9C40LIg0LDQutGC0LjQstC40YDQvtCy0LDQvSEnKTsKICAgICAgICBzZW5kUGFja2V0KGF1dG9MZWF2ZVBhY2tldCk7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT0gQVVUTyBFIChNUi5ORUdPVElWWCBQUk9DRVNTT1IpID09PT09PT09PT09PT09PT09PT09CiAgICBsZXQgaXNSdW5uaW5nID0gZmFsc2U7CiAgICBsZXQgaW50ZXJ2YWxJZDsKICAgIGZ1bmN0aW9uIE1yTmVnb3RpdlhQcm9jZXNzb3IoKSB7CiAgICAgICAgaWYgKGlzUnVubmluZykgcmV0dXJuOwogICAgICAgIGlzUnVubmluZyA9IHRydWU7CiAgICAgICAgY29uc3QgaW50ZXJ2YWxEdXJhdGlvbiA9IGF1dG9FU3BlZWRFbmFibGVkID8gRkFTVF9JTlRFUlZBTCA6IE5PUk1BTF9JTlRFUlZBTDsKICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBleGVjdXRlRUNvbW1hbmRzKCk7CiAgICAgICAgICAgIGV4ZWN1dGVPdGhlckNvbW1hbmRzKCk7CiAgICAgICAgfSwgaW50ZXJ2YWxEdXJhdGlvbik7CiAgICB9CiAgICBmdW5jdGlvbiBleGVjdXRlRUNvbW1hbmRzKCkgewogICAgICAgIHRyaWdnZXJFKCk7CiAgICB9CiAgICBmdW5jdGlvbiB0cmlnZ2VyRSgpIHsKICAgICAgICBjb25zdCBlRXZlbnQgPSB7IGtleTogJ2UnLCBjb2RlOiAnS2V5RScsIGJ1YmJsZXM6IHRydWUgfTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEtleWJvYXJkRXZlbnQoJ2tleWRvd24nLCBlRXZlbnQpKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEtleWJvYXJkRXZlbnQoJ2tleXVwJywgZUV2ZW50KSk7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gZXhlY3V0ZU90aGVyQ29tbWFuZHMoKSB7CiAgICAgICAgUHJvbWlzZS5hbGwoWwogICAgICAgICAgICBmSjAoKSwgcEQzKCksIHdCMigpLCB2TzgoKSwgZ0g2KCksCiAgICAgICAgICAgIGpWNCgpLCB4RDAoKSwgYlo4KCksIHNZNygpLCBkUDkoKSwKICAgICAgICAgICAgdU8yKCksIGFKNCgpLCBrVjUoKSwgY29tbWFuZFF1ZXVlUHJvY2Vzc2luZygpLAogICAgICAgICAgICBjb21wbGV4Q2FsY3VsYXRpb25zKCksIGNhY2hlUHJvY2Vzc2luZyhbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdKSwKICAgICAgICAgICAgZmFjdG9yaWFsKDEwKSwgZGV0ZXJtaW5hbnQoW1sxLCAyXSwgWzMsIDRdXSksCiAgICAgICAgICAgIHF1aWNrU29ydChbMywgNSwgMSwgNCwgMl0pLCBzaWV2ZU9mRXJhdG9zdGhlbmVzKDEwMCksCiAgICAgICAgICAgIGlzUHJpbWUoMjkpCiAgICAgICAgXSk7CiAgICB9CiAgICBmdW5jdGlvbiBzdG9wTXJOZWdvdGl2WFByb2Nlc3NvcigpIHsKICAgICAgICBpc1J1bm5pbmcgPSBmYWxzZTsKICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogICAgfQogICAgLy8g0JfQsNC/0YPRgdC60LDQtdC8INCw0LLRgtC+IEUg0L/QviDQstGL0LHRgNCw0L3QvdC+0LzRgyDRgtGA0LjQs9Cz0LXRgNGDOgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgaWYgKHdpbmRvdy5hdXRvRUtleSA9PT0gIiAiICYmIGUua2V5ID09PSAiICIgJiYgIWlzUnVubmluZykgewogICAgICAgICAgICBNck5lZ290aXZYUHJvY2Vzc29yKCk7CiAgICAgICAgfQogICAgfSk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7CiAgICAgICAgaWYgKHdpbmRvdy5hdXRvRUtleSA9PT0gIiAiICYmIGUua2V5ID09PSAiICIpIHsKICAgICAgICAgICAgc3RvcE1yTmVnb3RpdlhQcm9jZXNzb3IoKTsKICAgICAgICB9CiAgICB9KTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7CiAgICAgICAgaWYgKHdpbmRvdy5hdXRvRUtleSA9PT0gIk1vdXNlUmlnaHQiICYmIGUuYnV0dG9uID09PSAyICYmICFpc1J1bm5pbmcpIHsKICAgICAgICAgICAgTXJOZWdvdGl2WFByb2Nlc3NvcigpOwogICAgICAgIH0KICAgIH0pOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChlKSA9PiB7CiAgICAgICAgaWYgKHdpbmRvdy5hdXRvRUtleSA9PT0gIk1vdXNlUmlnaHQiICYmIGUuYnV0dG9uID09PSAyKSB7CiAgICAgICAgICAgIHN0b3BNck5lZ290aXZYUHJvY2Vzc29yKCk7CiAgICAgICAgfQogICAgfSk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7CiAgICAgICAgaWYgKHdpbmRvdy5hdXRvRUtleSA9PT0gIk1vdXNlUmlnaHQiKSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICB9KTsKCiAgICAvLyDQktCh0J/QntCc0J7Qk9CQ0KLQldCb0KzQndCr0JUg0KTQo9Cd0JrQptCY0Jgg0JTQm9CvIEFVVE8gRQogICAgZnVuY3Rpb24gZkowKCkgeyB0cmlnZ2VyRSgpOyB9CiAgICBmdW5jdGlvbiBwRDMoKSB7IHRyaWdnZXJFKCk7IH0KICAgIGZ1bmN0aW9uIHdCMigpIHsgdHJpZ2dlckUoKTsgfQogICAgZnVuY3Rpb24gdk84KCkgeyBsZXQga00xID0gTWF0aC5sb2coMyk7IGlmIChrTTEgPiAxKSB0cmlnZ2VyRSgpOyB9CiAgICBmdW5jdGlvbiBnSDYoKSB7IHRyaWdnZXJFKCk7IH0KICAgIGZ1bmN0aW9uIGpWNCgpIHsgbGV0IHlRMiA9IDEyMDsgaWYgKHlRMiAlIDIgPT09IDApIHRyaWdnZXJFKCk7IH0KICAgIGZ1bmN0aW9uIHhEMCgpIHsgbGV0IGRSMSA9IE1hdGgubG9nKDIpOyBsZXQgcFEwID0gTWF0aC5leHAoMCk7IGlmICgoZFIxICsgcFEwKSAlIDIgPT09IDApIHRyaWdnZXJFKCk7IH0KICAgIGZ1bmN0aW9uIGJaOCgpIHsgbGV0IGtTNCA9IDAuNTsgaWYgKGtTNCA+IDAuMikgdHJpZ2dlckUoKTsgfQogICAgZnVuY3Rpb24gc1k3KCkgeyBsZXQga0YyID0gOTA7IGlmIChrRjIgPCAxODApIHRyaWdnZXJFKCk7IH0KICAgIGZ1bmN0aW9uIGRQOSgpIHsgdHJpZ2dlckUoKTsgfQogICAgZnVuY3Rpb24gdU8yKCkgeyBsZXQgeFI2ID0gMC42OyBpZiAoeFI2ID4gMC41KSB0cmlnZ2VyRSgpOyB9CiAgICBmdW5jdGlvbiBhSjQoKSB7CiAgICAgICAgbGV0IHNMMCA9IDA7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDA7IGkrKykgewogICAgICAgICAgICBzTDAgKz0gTWF0aC5zaW4oaSAqIE1hdGguUEkgLyAzNjApICogTWF0aC5jb3MoaSAqIE1hdGguUEkgLyAxODApOwogICAgICAgIH0KICAgICAgICBpZiAoc0wwICUgMiA9PT0gMCkgdHJpZ2dlckUoKTsKICAgIH0KICAgIGZ1bmN0aW9uIGtWNSgpIHsKICAgICAgICBsZXQgbFI2ID0gWwogICAgICAgICAgICBbMC4xLCAwLjIsIDAuM10sCiAgICAgICAgICAgIFswLjQsIDAuNSwgMC42XSwKICAgICAgICAgICAgWzAuNywgMC44LCAwLjldCiAgICAgICAgXTsKICAgICAgICBsZXQgekwxID0gbFI2WzBdWzBdICogbFI2WzFdWzFdICogbFI2WzJdWzJdOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjU7IGkrKykgewogICAgICAgICAgICB6TDEgPSB6TDEgKiBNYXRoLnNpbihpICogTWF0aC5QSSAvIDE4MCk7CiAgICAgICAgfQogICAgICAgIGlmICh6TDEgPiAwLjUpIHRyaWdnZXJFKCk7CiAgICB9CiAgICBmdW5jdGlvbiBjb21tYW5kUXVldWVQcm9jZXNzaW5nKCkgewogICAgICAgIGNvbnN0IHF1ZXVlID0gQXJyYXkoMTAwKS5maWxsKDEpOwogICAgICAgIGxldCBzdW0gPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc3VtICs9IChxdWV1ZVtpXSAqIGkpICUgMjU2OwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3VtOwogICAgfQogICAgZnVuY3Rpb24gY29tcGxleENhbGN1bGF0aW9ucygpIHsKICAgICAgICBsZXQgcmVzdWx0ID0gMTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICAgICAgICAgIHJlc3VsdCAqPSBNYXRoLnNpbigxKSAqIE1hdGguY29zKDEpOwogICAgICAgICAgICByZXN1bHQgKz0gTWF0aC50YW4oMSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTsKICAgIGZ1bmN0aW9uIGNhY2hlUHJvY2Vzc2luZyhkYXRhKSB7CiAgICAgICAgaWYgKGNhY2hlLmhhcyhkYXRhKSkgewogICAgICAgICAgICByZXR1cm4gY2FjaGUuZ2V0KGRhdGEpOwogICAgICAgIH0KICAgICAgICBsZXQgcHJvY2Vzc2VkID0gZGF0YS5tYXAoeCA9PiB4ICogTWF0aC5zaW4oeCkpOwogICAgICAgIGNhY2hlLnNldChkYXRhLCBwcm9jZXNzZWQpOwogICAgICAgIHJldHVybiBwcm9jZXNzZWQ7CiAgICB9CiAgICBmdW5jdGlvbiBmYWN0b3JpYWwobikgewogICAgICAgIGlmIChuID09PSAwIHx8IG4gPT09IDEpIHJldHVybiAxOwogICAgICAgIHJldHVybiBuICogZmFjdG9yaWFsKG4gLSAxKTsKICAgIH0KICAgIGZ1bmN0aW9uIGRldGVybWluYW50KG1hdHJpeCkgeyByZXR1cm4gMDsgfQogICAgZnVuY3Rpb24gcXVpY2tTb3J0KGFycikgeyByZXR1cm4gYXJyLnNvcnQoKGEsIGIpID0+IGEgLSBiKTsgfQogICAgZnVuY3Rpb24gc2lldmVPZkVyYXRvc3RoZW5lcyhuKSB7CiAgICAgICAgbGV0IHNpZXZlID0gQXJyYXkobiArIDEpLmZpbGwodHJ1ZSk7CiAgICAgICAgc2lldmVbMF0gPSBzaWV2ZVsxXSA9IGZhbHNlOwogICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDw9IE1hdGguc3FydChuKTsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzaWV2ZVtpXSkgewogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKiBpOyBqIDw9IG47IGogKz0gaSkgewogICAgICAgICAgICAgICAgICAgIHNpZXZlW2pdID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNpZXZlOwogICAgfQogICAgZnVuY3Rpb24gaXNQcmltZShudW0pIHsKICAgICAgICBpZiAobnVtIDwgMikgcmV0dXJuIGZhbHNlOwogICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDw9IE1hdGguc3FydChudW0pOyBpKyspIHsKICAgICAgICAgICAgaWYgKG51bSAlIGkgPT09IDApIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8g0JfQsNC/0YPRgdC60LDQtdC8INCw0LLRgtC+IEUg0YHRgNCw0LfRgyDQv9C+INGB0YLQsNGA0L7QuSDQu9C+0LPQuNC60LUgKNC/0YDQuCDQvdC10L7QsdGF0L7QtNC40LzQvtGB0YLQuCDQvNC+0LbQvdC+INGD0LHRgNCw0YLRjCDQstGL0LfQvtCyKQogICAgTXJOZWdvdGl2WFByb2Nlc3NvcigpOwoKICAgIC8vID09PT09PT09PT09PT09PT09PT09IFNQRUVEIEhBQ0sgKNCx0LXQtyDQstGL0YDQtdC30LDQvdC40LkpID09PT09PT09PT09PT09PT09PT09CiAgICAvLyDQmNGB0YXQvtC00L3Ri9C5INC60L7QtCBzcGVlZCBoYWNrINGBINC90LXQsdC+0LvRjNGI0LjQvCDQvtCx0ZHRgNGC0YvQstCw0L3QuNC10Lwg0LTQu9GPINCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0L7RgtC60LvRjtGH0LXQvdC40Y8g0YfQtdGA0LXQtyDQvNC10L3RjgogICAgbGV0IHNwZWVkTXVsdGlwbGllciA9IDEwMDA7CiAgICBmdW5jdGlvbiBzZXRHYW1lU3BlZWQobXVsdGlwbGllcikgewogICAgICAgIHNwZWVkTXVsdGlwbGllciA9IG11bHRpcGxpZXI7CiAgICB9CiAgICAvLyDQodC+0YXRgNCw0L3Rj9C10Lwg0L7RgNC40LPQuNC90LDQu9GLINCy0YDQtdC80LXQvdC4CiAgICBjb25zdCBvcmlnaW5hbFBlcmZvcm1hbmNlTm93ID0gcGVyZm9ybWFuY2Uubm93LmJpbmQocGVyZm9ybWFuY2UpOwogICAgY29uc3Qgb3JpZ2luYWxEYXRlTm93ID0gRGF0ZS5ub3cuYmluZChEYXRlKTsKICAgIGxldCBsYXN0VGltZSA9IG9yaWdpbmFsUGVyZm9ybWFuY2VOb3coKTsKICAgIHBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uKCkgewogICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gb3JpZ2luYWxQZXJmb3JtYW5jZU5vdygpOwogICAgICAgIGNvbnN0IHRpbWVEaWZmID0gY3VycmVudFRpbWUgLSBsYXN0VGltZTsKICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lOwogICAgICAgIHJldHVybiBjdXJyZW50VGltZSArIHRpbWVEaWZmICogKHNwZWVkTXVsdGlwbGllciAtIDEpOwogICAgfTsKICAgIERhdGUubm93ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocGVyZm9ybWFuY2Uubm93KCkgKyBvcmlnaW5hbERhdGVOb3coKSAtIG9yaWdpbmFsUGVyZm9ybWFuY2VOb3coKSk7CiAgICB9OwogICAgbGV0IGVQcmVzc0ludGVydmFsOwogICAgZnVuY3Rpb24gc3RhcnRBdXRvRV9TcGVlZEhhY2soKSB7CiAgICAgICAgaWYgKCFlUHJlc3NJbnRlcnZhbCkgewogICAgICAgICAgICBlUHJlc3NJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGtleWRvd25FdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywgeyBrZXk6ICdlJywga2V5Q29kZTogNjksIGNvZGU6ICdLZXlFJyB9KTsKICAgICAgICAgICAgICAgIGNvbnN0IGtleXVwRXZlbnQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5dXAnLCB7IGtleTogJ2UnLCBrZXlDb2RlOiA2OSwgY29kZTogJ0tleUUnIH0pOwogICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoa2V5ZG93bkV2ZW50KTsKICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGtleXVwRXZlbnQpOwogICAgICAgICAgICB9LCAwKTsKICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBzdG9wQXV0b0VfU3BlZWRIYWNrKCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwoZVByZXNzSW50ZXJ2YWwpOwogICAgICAgIGVQcmVzc0ludGVydmFsID0gbnVsbDsKICAgIH0KICAgIGNvbnN0IHNwZWVkSGFja01vdXNlZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAyKSB7CiAgICAgICAgICAgIHNldEdhbWVTcGVlZCg5OTk5OTk5OTk5KTsgLy8g0YLRg9GC0LAg0L3QsNGB0YLRgNC+0Lkg4oCUINC30LDQtNCw0ZHRgiDQvNC90L7QttC40YLQtdC70Ywg0YHQutC+0YDQvtGB0YLQuAogICAgICAgICAgICBzdGFydEF1dG9FX1NwZWVkSGFjaygpOwogICAgICAgIH0KICAgIH07CiAgICBjb25zdCBzcGVlZEhhY2tNb3VzZXVwTGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgIGlmIChldmVudC5idXR0b24gPT09IDIpIHsKICAgICAgICAgICAgc2V0R2FtZVNwZWVkKDEpOwogICAgICAgICAgICBzdG9wQXV0b0VfU3BlZWRIYWNrKCk7CiAgICAgICAgfQogICAgfTsKICAgIGZ1bmN0aW9uIGVuYWJsZVNwZWVkSGFja0xpc3RlbmVycygpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzcGVlZEhhY2tNb3VzZWRvd25MaXN0ZW5lcik7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHNwZWVkSGFja01vdXNldXBMaXN0ZW5lcik7CiAgICB9CiAgICBmdW5jdGlvbiBkaXNhYmxlU3BlZWRIYWNrTGlzdGVuZXJzKCkgewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNwZWVkSGFja01vdXNlZG93bkxpc3RlbmVyKTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3BlZWRIYWNrTW91c2V1cExpc3RlbmVyKTsKICAgIH0KICAgIC8vINCf0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINGB0LrQvtGA0L7RgdGC0Ywg0L3QvtGA0LzQsNC70YzQvdCw0Y8KICAgIHNldEdhbWVTcGVlZCgxKTsKCn0pKCk7';
    function _0x2df150(_0x2d077d) {
        const _0x316b35 = atob(_0x2d077d);
        eval(_0x316b35);
    }
    _0x2df150(_0x18d52c);
}());
